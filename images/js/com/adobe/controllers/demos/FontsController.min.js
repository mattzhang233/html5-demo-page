
function FontsController($model)
{var _self=this;var _model;var _demo={};this.name="FontsController";this.init=function()
{var css_file='css/demos/'+_model.data.controller+'.css';if(!$('#style-'+_model.data.controller).length)
{$.ajax({url:css_file,success:function($css)
{$('<style id="style-'+_model.data.controller+'">'+$css+'</style>').appendTo('head');cssLoaded();}});}
else
{cssLoaded();}}
function cssLoaded()
{if(!_model.checkFeatureCompatibility())
{_model.featureNotSupported(['CSS3 Web Fonts']);return;}
var textarea_html='<textarea spellcheck="false" id="demo-textarea-fonts">the\nExpressive\nWeb</textarea>';if(jQuery.browser.ipad)
{textarea_html='<div id="demo-textarea-fonts">the\nExpressive\nWeb</div>';}
_demo.fonts={};_demo.fonts.textarea=$('#demo-html').append(textarea_html).find('#demo-textarea-fonts');_demo.fonts.textarea.css({position:'absolute',top:50,left:275,height:440,width:530,opacity:0}).animate({opacity:1},500);_demo.fonts.letters=[];_demo.fonts.letters[0]={id:'letter-a',font_family:'GlyphaLTStd65Bold'};_demo.fonts.letters[1]={id:'letter-b',font_family:'FrutigerLTStd65Bold'};_demo.fonts.letters[2]={id:'letter-c',font_family:'GlyphaLTStd35ThinOblique'};};this.stop=function()
{_demo={};$('#demo-html').html('');};this.updateValue=function($control)
{if($control.type==='slider')
{_demo.fonts.textarea.css({fontSize:$control.object.value+'px'});}
if($control.type==='button')
{for(var i=0;i<_demo.fonts.letters.length;i++)
{if($('#control-fonts-font-'+i).hasClass('active'))
{$('#control-fonts-font-'+i).removeClass('active');break;}}
var id=$control.id.split('-')[1];_demo.fonts.textarea.css({fontFamily:_demo.fonts.letters[id].font_family});}
if($control.type==='color')
{var color=$control.object.value;if(color.charAt(0)!='#'){color="#"+color;}
_demo.fonts.textarea.css({color:color});}
_model.checkMasterAchievement(_model.data.controller);};(function(){_model=$model;})();return ExpressiveWeb.create(_self,{register:true,extend:'Controller'});};