
function StorageController($model)
{var _self=this;var _model;var _demo={};this.name="StorageController";this.init=function()
{var css_file='css/demos/'+_model.data.controller+'.css';if(!$('#style-'+_model.data.controller).length)
{$.ajax({url:css_file,success:function($css)
{$('<style id="style-'+_model.data.controller+'">'+$css+'</style>').appendTo('head');cssLoaded();}});}
else
{cssLoaded();}}
function cssLoaded()
{if(!_model.checkFeatureCompatibility())
{_model.featureNotSupported(['Web Storage']);return;}
_demo.titles=['Every feature viewed','First feature viewed','Ten minutes on site','Shared the site','Built the burger'];$('<div id="achievement_titles"></div>').appendTo($('#demo-html'));for(var i=0;i<_demo.titles.length;i++)
{$('#achievement_titles').append('<div id="storage-achievement-'+i+'" class="achievement-title"><span>'+_demo.titles[i]+'</span></div>');};_updateStorageIcons();};this.stop=function()
{_demo={};$('#demo-html').html('');};this.updateValue=function($control)
{};this.updateTitles=function updateTitles()
{_updateStorageIcons();};function _updateStorageIcons()
{var divs=[];if(_model.store.hasAchievement('ALL_FEATURES_VIEWED')){divs.push('#storage-achievement-0');}
if(_model.store.hasAchievement('FIRST_FEATURE')){divs.push('#storage-achievement-1');}
if(_model.store.hasAchievement('SESSION_TIME')){divs.push('#storage-achievement-2');}
if(_model.store.hasAchievement('SHARED')){divs.push('#storage-achievement-3');}
if(_model.store.hasAchievement('BURGER')){divs.push('#storage-achievement-4');}
for(var i=0;i<divs.length;i++)
{$(divs[i]).css({opacity:1,backgroundPositionY:-50});};if(_demo.titles.length)
{for(var i=0;i<_demo.titles.length;i++)
{$('#storage-achievement-'+i).hide().fadeIn(500);};}};(function(){_model=$model;})();return ExpressiveWeb.create(_self,{register:true,extend:'Controller'});};