
function ShadowsController($model)
{var _self=this;var _model;var _demo={};this.name="ShadowsController";this.init=function()
{var css_file='css/demos/'+_model.data.controller+'.css';if(!$('#style-'+_model.data.controller).length)
{$.ajax({url:css_file,success:function($css)
{$('<style id="style-'+_model.data.controller+'">'+$css+'</style>').appendTo('head');cssLoaded();}});}
else
{cssLoaded();}}
function cssLoaded()
{if(!_model.checkFeatureCompatibility())
{_model.featureNotSupported(['CSS3 Shadows']);return;}
var suns_html=[];_demo.suns=[];for(var i=0;i<6;i++)
{_demo.suns[i]={};_demo.suns[i].object=$('#asset-shadows-sundial-sun-'+i)[0];_demo.suns[i].active=false;_demo.suns[i].background_positions=[];$('#asset-shadows-sundial-sun-'+Number(i)+' .cube').each(function()
{var bg_x=$(this).css('background-position').split(' ')[0];var bg_y=$(this).css('background-position').split(' ')[1];_demo.suns[i].background_positions.push({id:$(this).attr('id'),x:bg_x,y:bg_y});});if(i==0)
{_demo.suns[i].active=true;$('#asset-shadows-sundial-sun-'+Number(i)).addClass('active');for(var j=0;j<_demo.suns[0].background_positions.length;j++)
{var bg_y_new='-140px';if(_demo.suns[0].background_positions[j].y=='-112px')
{bg_y_new='0px';}
$('#'+_demo.suns[0].background_positions[j].id).css({backgroundPosition:_demo.suns[0].background_positions[j].x+' '+bg_y_new});}}
$('#asset-shadows-sundial-sun-'+Number(i)).click(shadowsSunClicked);}
shadowsUpdate();};this.stop=function()
{$('.asset.active').removeClass("active");_demo={};$('#demo-html').html('');};this.updateValue=function($control)
{};function shadowsSunClicked($event)
{for(var i=0;i<6;i++)
{if($('#asset-shadows-sundial-sun-'+i).hasClass('active'))
{$('#asset-shadows-sundial-sun-'+i).removeClass('active');$('#asset-shadows-sundial-sun-'+i+' .cube').css({backgroundPosition:'0 -112px'});_demo.suns[i].active=false;for(var j=0;j<_demo.suns[i].background_positions.length;j++)
{$('#'+_demo.suns[i].background_positions[j].id).css({backgroundPosition:_demo.suns[i].background_positions[j].x+' '+_demo.suns[i].background_positions[j].y});}
break;}}
if($($event.target).attr('id')==='asset-shadows-sundial-sun-0'||$($event.target).attr('id')==='asset-shadows-sundial-sun-1'||$($event.target).attr('id')==='asset-shadows-sundial-sun-2'||$($event.target).attr('id')==='asset-shadows-sundial-sun-3'||$($event.target).attr('id')==='asset-shadows-sundial-sun-4'||$($event.target).attr('id')==='asset-shadows-sundial-sun-5')
{$($event.target).addClass('active');var sun_id=$($event.target).attr('id').replace('asset-shadows-sundial-sun-','')
for(var j=0;j<_demo.suns[sun_id].background_positions.length;j++)
{var bg_y_new='-140px';if(_demo.suns[sun_id].background_positions[j].y=='-112px')
{bg_y_new='0px';}
$('#'+_demo.suns[sun_id].background_positions[j].id).css({backgroundPosition:_demo.suns[sun_id].background_positions[j].x+' '+bg_y_new});}
_demo.suns[sun_id].active=true;_model.checkMasterAchievement(_model.data.controller);}
if($($event.target).parent().attr('id')==='asset-shadows-sundial-sun-0'||$($event.target).parent().attr('id')==='asset-shadows-sundial-sun-1'||$($event.target).parent().attr('id')==='asset-shadows-sundial-sun-2'||$($event.target).parent().attr('id')==='asset-shadows-sundial-sun-3'||$($event.target).parent().attr('id')==='asset-shadows-sundial-sun-4'||$($event.target).parent().attr('id')==='asset-shadows-sundial-sun-5')
{$($event.target).parent().addClass('active');var sun_id=$($event.target).parent().attr('id').replace('asset-shadows-sundial-sun-','');for(var j=0;j<_demo.suns[sun_id].background_positions.length;j++)
{var bg_y_new='-140px';if(_demo.suns[sun_id].background_positions[j].y=='-112px')
{bg_y_new='0px';}
$('#'+_demo.suns[sun_id].background_positions[j].id).css({backgroundPosition:_demo.suns[sun_id].background_positions[j].x+' '+bg_y_new});}
_demo.suns[sun_id].active=true;_model.checkMasterAchievement(_model.data.controller);}}
function shadowsUpdate()
{var shadow_show=false;for(var i=0;i<_demo.suns.length;i++)
{if(_demo.suns[i].active==true)
{shadow_show=true;}}}
(function(){_model=$model;})();return ExpressiveWeb.create(_self,{register:true,extend:'Controller'});};